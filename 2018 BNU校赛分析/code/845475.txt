#include<iostream>
using namespace std;
int main()
{
	char a[20];
	int n,i,k,j,count,dn,xn;
	cin>>n;
	for(i=0;i<n;i++)
	{
		cin>>a;
		count=0;
		for(k=0;k<20;k++)
		{
			if(a[k]=='\0')
			{
				break;
			}
			count++;
		}
		dn=0;
		xn=0;
		for(j=0;j<count;j++)
		{
			if(a[j]>=97)
			{
				xn++;
			}
			if(j!=0&&j!=1&&a[j]<97&&a[j+1]>=97&&xn>=0)
			{
				if(a[j]=='A')
				cout<<'_'<<'a';
				if(a[j]=='B')
				cout<<'_'<<'b';
				if(a[j]=='C')
				cout<<'_'<<'c';
				if(a[j]=='D')
				cout<<'_'<<'d';
				if(a[j]=='E')
				cout<<'_'<<'e';
				if(a[j]=='F')
				cout<<'_'<<'f';
				if(a[j]=='G')
				cout<<'_'<<'g';
				if(a[j]=='H')
				cout<<'_'<<'h';
				if(a[j]=='I')
				cout<<'_'<<'i';
				if(a[j]=='J')
				cout<<'_'<<'j';
				if(a[j]=='K')
				cout<<'_'<<'k';
				if(a[j]=='L')
				cout<<'_'<<'l';
				if(a[j]=='M')
				cout<<'_'<<'m';
				if(a[j]=='N')
				cout<<'_'<<'n';
				if(a[j]=='O')
				cout<<'_'<<'o';
				if(a[j]=='P')
				cout<<'_'<<'p';
				if(a[j]=='Q')
				cout<<'_'<<'q';
				if(a[j]=='R')
				cout<<'_'<<'r';
				if(a[j]=='S')
				cout<<'_'<<'s';
				if(a[j]=='T')
				cout<<'_'<<'t';
				if(a[j]=='U')
				cout<<'_'<<'u';
				if(a[j]=='V')
				cout<<'_'<<'v';
				if(a[j]=='W')
				cout<<'_'<<'w';
				if(a[j]=='X')
				cout<<'_'<<'x';
				if(a[j]=='Y')
				cout<<'_'<<'y';
				if(a[j]=='Z')
				cout<<'_'<<'z';
				
			}
			else
			{
				cout<<a[j];
			}
			if(a[j]<97)
			{
				xn=-1;
			}
		}
		cout<<endl;	
	}
}
